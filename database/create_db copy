SET check_function_bodies = false;

/* Table 'Samples' */
CREATE TABLE "Samples"(
  id serial NOT NULL,
  neighborhood varchar,
  latitude varchar,
  longitude varchar,
  photo_date date,
  agent_send_date date,
  pathogen bool,
  vector integer,
  species varchar,
  sex varchar(10),
  lab_ide_observations varchar,
  lab_ide_send_date date,
  lab_ide_recieve_date date,
  lab_dia_observations varchar,
  lab_dia_recieve_date date,
  agent_id integer NOT NULL,
  lab_ide_id integer,
  lab_dia_id integer,
  status integer,
  sample_photo_1 bytea,
  sample_photo_2 bytea,
  sample_photo_3 bytea,
  pathogen_type varchar,
  PRIMARY KEY(id)
);



/* Table 'Users' */
CREATE TABLE "Users"(
  id serial NOT NULL,
  "name" varchar NOT NULL,
  cpf varchar NOT NULL,
  email varchar NOT NULL,
  "password" varchar NOT NULL,
  "role" varchar(30) NOT NULL,
  state integer NOT NULL,
  city integer NOT NULL,
  PRIMARY KEY(id)
);

/* Relation 'Users_Samples' */
ALTER TABLE "Samples"
  ADD CONSTRAINT "Users_Samples" FOREIGN KEY (agent_id) REFERENCES "Users" (id);

/* Relation 'Users_Samples' */
ALTER TABLE "Samples"
  ADD CONSTRAINT "Users_Samples" FOREIGN KEY (lab_ide_id) REFERENCES "Users" (id)
  ;

/* Relation 'Users_Samples' */
ALTER TABLE "Samples"
  ADD CONSTRAINT "Users_Samples" FOREIGN KEY (lab_dia_id) REFERENCES "Users" (id)
  ;
